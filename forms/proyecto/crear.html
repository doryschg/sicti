 <!-- TOP-MENU inicio -->
 <div ng-include="'./templates/menu_inicio.html'"></div>

<div ng-include="'./templates/menu_lateral.html'"></div>
 <form role="form" name="addProyecto" novalidate class="form-signin">

<!-- CONTENIDO MODULO -->
	<div class="col-md-10 col-sm-10">
		<div class="row">
			<div class="col-md-12">
				<h2 class="text-primary">
					<span class="glyphicon glyphicon-th-large" aria-hidden="true"></span>
					{{ajustes.pagina.titulo}}
				</h2>
				<hr class="bg-red">
			</div>
		</div>

		<div class="row">
			<div class="col-md-12">
			  <!-- AQUI VAN LAS TABLAS O FORMULARIOS incrustados -->
			  <!-- INICIO -->
        <label class="control-label">Los campos marcados con asterisco (<strong class="fg_red">*</strong>) son obligatorios</label>

        <div class="well well-sm" style="background-color:#fff;">
        <h4 class="text-primary">
              DATOS DEL PROYECTO
        </h4>
        <hr class="bg-red">
          <div class="row">
            <div class="col-md-6">
        				<div class="form-group">
        				  <label for="titulo" class="control-label">Titulo: <strong class="fg_red">*</strong></label>
        				  <input class="form-control" name="titulo" type="text" placeholder="Titulo del proyecto" ng-model="proyecto.titulo_proy" ng-model-options="{ updateOn: 'blur' }" required ng-pattern="patternCadenaNumero" autofocus>
        				  <span class="messages" ng-show="addProyecto.titulo.$touched">
        					<span ng-show="addProyecto.titulo.$error.required">El campo es obligatorio.</span>
        					<span ng-show="addProyecto.titulo.$error.pattern">No se admiten símbolos especiales.</span>
        				  </span>
        				</div>
            </div>    
            <div class="col-md-6">
        				<div class="form-group">
        				  <label for="tipo" class="control-label">Tipo Servicio: <strong class="fg_red">*</strong></label>
        				  <input type="" class="form-control" name="tipo" placeholder="Tipo servicio" ng-model="proyecto.tipo_servicio" ng-model-options="{ updateOn: 'blur' }" required ng-pattern="patternCadenaNumero" >
        				  <span class="messages" ng-show="addProyecto.tipo.$touched">
        					<span ng-show="addProyecto.tipo.$error.required">El campo es obligatorio.</span>
        					<span ng-show="addProyecto.tipo.$error.pattern">No se admiten símbolos especiales.</span>
        				  </span>
        				</div>
            </div>
          </div>

          <hr class="bg-red">
          <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                  <label for="fecha_ini" class="control-label">Fecha Inicio: <strong class="fg_red">*</strong></label>
                  <input class="form-control" name="fecha_ini" type="date" ng-model="proyecto.fecha_inicio" ng-model-options="{ updateOn: 'blur' }" required ng-pattern="patternCadenaNumero" autofocus>
                  <span class="messages" ng-show="addProyecto.fecha_ini.$touched">
                  <span ng-show="addProyecto.fecha_ini.$error.required">El campo es obligatorio.</span>
                  </span>
                </div>
            </div>    
            <div class="col-md-6">
                <div class="form-group">
                  <label for="fecha_fin" class="control-label">Fecha Finalizacion: <strong class="fg_red">*</strong></label>
                  <input type="date" class="form-control" name="fecha_fin" ng-model="proyecto.fecha_fin" ng-model-options="{ updateOn: 'blur' }" required ng-pattern="patternCadenaNumero" >
                  <span class="messages" ng-show="addProyecto.fecha_fin.$touched">
                  <span ng-show="addProyecto.fecha_fin.$error.required">El campo es obligatorio.</span>
                  </span>
                </div>
            </div>
          </div>

           <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                  <label for="tipo_inv" class="control-label">Tipo inversion: <strong class="fg_red">*</strong></label>
                  <input class="form-control" name="tipo_inv" type="text" ng-model="proyecto.tipo_inv" ng-model-options="{ updateOn: 'blur' }" required ng-pattern="patternCadenaNumero" autofocus>
                  <span class="messages" ng-show="addProyecto.tipo_inv.$touched">
                  <span ng-show="addProyecto.tipo_inv.$error.required">El campo es obligatorio.</span>
                  </span>
                </div>
            </div>    
            <div class="col-md-6">
                <div class="form-group">
                  <label for="obj_gen" class="control-label">Objetivo General: <strong class="fg_red">*</strong></label>
                  <input type="text" class="form-control" name="obj_gen" ng-model="proyecto.obj_gen" ng-model-options="{ updateOn: 'blur' }" required ng-pattern="patternCadenaNumero" >
                  <span class="messages" ng-show="addProyecto.obj_gen.$touched">
                  <span ng-show="addProyecto.obj_gen.$error.required">El campo es obligatorio.</span>
                  </span>
                </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                  <label for="alcace" class="control-label">Alcance: <strong class="fg_red">*</strong></label>
                  <input class="form-control" name="alcance" type="text" ng-model="proyecto.alcance" ng-model-options="{ updateOn: 'blur' }" required ng-pattern="patternCadenaNumero" autofocus>
                  <span class="messages" ng-show="addProyecto.alcance.$touched">
                  <span ng-show="addProyecto.alcance.$error.required">El campo es obligatorio.</span>
                  </span>
                </div>
            </div>    
            <div class="col-md-6">
                <div class="form-group">
                  <label for="poblacion" class="control-label">Poblacion: <strong class="fg_red">*</strong></label>
                  <input type="text" class="form-control" name="poblacion" ng-model="proyecto.poblacion" ng-model-options="{ updateOn: 'blur' }" required ng-pattern="patternCadenaNumero" >
                  <span class="messages" ng-show="addProyecto.poblacion.$touched">
                  <span ng-show="addProyecto.poblacion.$error.required">El campo es obligatorio.</span>
                  </span>
                </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                  <label for="porc_ejec" class="control-label">Porcentaje de ejecucion: <strong class="fg_red">*</strong></label>
                  <input class="form-control" name="porc_ejec" type="text" ng-model="proyecto.porc_ejec" ng-model-options="{ updateOn: 'blur' }" required ng-pattern="patternCadenaNumero" autofocus>
                  <span class="messages" ng-show="addProyecto.porc_ejec.$touched">
                  <span ng-show="addProyecto.porc_ejec.$error.required">El campo es obligatorio.</span>
                  </span>
                </div>
            </div>    
            <div class="col-md-6">
                <div class="form-group">
                  <label for="area_proy" class="control-label">Area del Proyecto: <strong class="fg_red">*</strong></label>
                  <input type="text" class="form-control" name="area_proy" ng-model="proyecto.area_proy" ng-model-options="{ updateOn: 'blur' }" required ng-pattern="patternCadenaNumero" >
                  <span class="messages" ng-show="addProyecto.area_proy.$touched">
                  <span ng-show="addProyecto.area_proy.$error.required">El campo es obligatorio.</span>
                  </span>
                </div>
            </div>
          </div>

           <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                  <label for="circunscripcion" class="control-label">Circunscripcion: <strong class="fg_red">*</strong></label>
                  <input class="form-control" name="circunscripcion" type="text" ng-model="proyecto.circunscripcion" ng-model-options="{ updateOn: 'blur' }" required ng-pattern="patternCadenaNumero" autofocus>
                  <span class="messages" ng-show="addProyecto.circunscripcion.$touched">
                  <span ng-show="addProyecto.circunscripcion.$error.required">El campo es obligatorio.</span>
                  </span>
                </div>
            </div>    
            <div class="col-md-6">
                <div class="form-group">
                  <label for="doc_pdf" class="control-label">Documento: <strong class="fg_red">*</strong></label>
                  <input type="file" class="form-control" name="doc_pdf" ng-model="proyecto.doc_pdf" ng-model-options="{ updateOn: 'blur' }" required ng-pattern="patternCadenaNumero" >
                  <span class="messages" ng-show="addProyecto.doc_pdf.$touched">
                  <span ng-show="addProyecto.doc_pdf.$error.required">El campo es obligatorio.</span>
                  </span>
                </div>
            </div>
          </div>

          <div class="row">
        
            <div class="col-md-6">
              <label for="comentarios" class="control-label">Resumen: <strong class="fg_red">*</strong></label>
              <textarea class="form-control" name="resumen" rows="6" cols="35" placeholder="Resumen" style="resize: vertical;min-height:70px;max-height: 150px;" ng-model="proyecto.resumen" ng-model-options="{ updateOn: 'blur' }" required ng-pattern="patternCadenaNumero" ></textarea>
              <span class="messages" ng-show="addProyecto.resumen.$touched"><br>
                <span ng-show="addProyecto.resumen.$error.required">El campo es obligatorio.</span>
                <span ng-show="addProyecto.resumen.$error.pattern">No se admiten símbolos especiales o números.</span>
              </span>
            </div> 
             
          </div> 

       <h4 class="text-primary">
              DATOS DEL JEFE DEL PROYECTO
          </h4>
         <div class="row">
            <div class="col-md-6"  >
                
                  <label for="nombre_usuario" class="control-label">Jefe del Proyecto: <strong class="fg_red">*</strong></label>
                   <select class="form-control " name="id_usuario" ng-model="proyecto.id_usuario"  ng-options="usuario.id as usuario.nombres+' '+usuario.ap_pat+' '+usuario.ap_mat for usuario in usuario track by usuario.id_usuario" required>
                  <option value="">--Elige opcion--</option>
                  </select>
                  <span class="messages" ng-show="addProyecto.$submitted || addProyecto.id_usuario.$touched">
                      <span ng-show="addProyecto.id_usuario.$error.required">El campo es obligatorio.</span>
                 </span>     
            </div> 
            </div>   


          <div class="row">
            <div class="col-md-6 col-md-offset-3 text-center">
              <div class="well well-sm">
                <div class="checkbox">
                  <label style="font-size: 1.5em">
                    <input type = "checkbox" ng-model = "para_enviar" title="Haga click aqui para habilitar o deshabilitar el envío del formulario"> 
                    <span class="cr"><i class="cr-icon glyphicon glyphicon-ok"></i></span>
                    <small style="font-size: 0.6em" class="text-primary" title="Haga click en la casilla de verificación del lado para registrar el proyecto">
                      <span class="glyphicon glyphicon-hand-left"></span>
                      <span class="glyphicon glyphicon-chevron-left"></span>
                      ¿DESEA GUARDAR ESTE FORMULARIO?
                    </small>
                  </label>
                </div>
                <br>

                <button ng-show = "para_enviar" class="btn btn-primary" ng-click="submit($parent.proyecto);reset(addProyecto)" ng-disabled="addProyecto.$invalid" title="Debe llenar todos los campos obligatorios de manera correcta">GUARDAR
                  <span class="glyphicon glyphicon-save"></span> {{$parent.ajustes.pagina.action}}
                </button> 
                <p ng-show="$parent.ajustes.pagina.success" class="alert alert-success">
                <button type="button" class="close" data-dismiss="alert">&times; </button>
              </div>
            </div>    
            
          </div>

          
          </p>
        </div>  
			</div>              
    </div>
    <!-- fin cuerpo -->
  </div>
  
<!-- CONTENIDO MODULO fin -->
</form> 